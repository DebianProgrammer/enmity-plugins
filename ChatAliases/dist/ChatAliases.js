function D(e){window.enmity.plugins.registerPlugin(e)}var I="ChatAliases",x="1.1.0",b="Chat aliases... yeah thats it lol",w=[{name:"octet-steam",id:"263530950070239235"}],M={name:I,version:x,description:b,authors:w};function v(e,s,a,i){window.enmity.clyde.sendReply(e,s,a,i)}var c;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.Guild=1]="Guild",e[e.DM=2]="DM"})(c||(c={}));var o;(function(e){e[e.Chat=1]="Chat",e[e.User=2]="User",e[e.Message=3]="Message"})(o||(o={}));var d;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.BuiltInText=1]="BuiltInText",e[e.BuiltInIntegration=2]="BuiltInIntegration",e[e.Bot=3]="Bot",e[e.Placeholder=4]="Placeholder"})(d||(d={}));var g;(function(e){e[e.Role=1]="Role",e[e.User=2]="User"})(g||(g={}));var u;(function(e){e[e.SubCommand=1]="SubCommand",e[e.SubCommandGroup=2]="SubCommandGroup",e[e.String=3]="String",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.User=6]="User",e[e.Channel=7]="Channel",e[e.Role=8]="Role",e[e.Mentionnable=9]="Mentionnable",e[e.Number=10]="Number",e[e.Attachment=11]="Attachment"})(u||(u={}));var S;(function(e){e[e.ApplicationCommand=2]="ApplicationCommand",e[e.MessageComponent=3]="MessageComponent"})(S||(S={}));function N(e,s,a){window.enmity.settings.set(e,s,a)}function f(e,s,a){return window.enmity.settings.get(e,s,a)}function B(){var e;let s=f("ChatAliases","aliases",'{"use /setAlias":"use /setAlias"}'),a=[],i=JSON.parse((e=s==null?void 0:s.toString())!=null?e:'{"use /setAlias":"use /setAlias"}'),l=Object.keys(i);for(let t=0;t<l.length;t++)a.push({name:l[t],displayName:l[t],value:l[t]});return a}const y={id:"alias-command",name:"alias",displayName:"alias",description:"sends one of your aliases in chat",displayDescription:"sends one of your aliases in chat",type:o.Chat,inputType:d.BuiltInText,options:[{name:"aliasid",displayName:"aliasid",description:"The ID of the alias to use",displayDescription:"The ID of the alias to use",type:u.String,get choices(){return B()},required:!0}],execute:async function(e,s){var a,i;const l=e[e.findIndex(r=>r.name==="aliasid")].value;let t=f("ChatAliases","aliases","{}"),n=JSON.parse((a=t==null?void 0:t.toString())!=null?a:"{}");if(n[l]==null){v((i=s==null?void 0:s.channel.id)!=null?i:"0",`That's not a valid alias id. Use the /setalias command to add one and /removealias to remove one. Valid aliases are: ${Object.keys(n)}`);return}return{content:n[l]}}},U={id:"removealias-command",name:"removeAlias",displayName:"removeAlias",description:"removes one of your aliases in chat",displayDescription:"removes one of your aliases in chat",type:o.Chat,inputType:d.BuiltInText,options:[{name:"aliasid",displayName:"aliasid",description:"The ID of the alias to remove",displayDescription:"The ID of the alias to remove",type:u.String,get choices(){return B()},required:!0}],execute:async function(e,s){var a,i,l;const t=e[e.findIndex(h=>h.name==="aliasid")].value;let n=f("ChatAliases","aliases","{}"),r=JSON.parse((a=n==null?void 0:n.toString())!=null?a:"{}");if(!r[t]){v((i=s==null?void 0:s.channel.id)!=null?i:"0","That alias does not exist");return}delete r[t],N("ChatAliases","aliases",JSON.stringify(r)),v((l=s==null?void 0:s.channel.id)!=null?l:"0",`The alias ${t} has been deleted`)}},J={id:"setalias-command",name:"setAlias",displayName:"setAlias",description:"sets one of your aliases in chat",displayDescription:"sets one of your aliases in chat",type:o.Chat,inputType:d.BuiltInText,options:[{name:"aliasid",displayName:"aliasid",description:"The ID of the alias to use",displayDescription:"The ID of the alias to use",type:u.String,required:!0},{name:"content",displayName:"content",description:"The content of the alias",displayDescription:"The content of the alias",type:u.String,required:!0}],execute:async function(e,s){var a,i;const l=e[e.findIndex(h=>h.name==="aliasid")].value,t=e[e.findIndex(h=>h.name==="content")].value;let n=f("ChatAliases","aliases","{}"),r=JSON.parse((a=n==null?void 0:n.toString())!=null?a:"{}");r[l]=t,N("ChatAliases","aliases",JSON.stringify(r)),v((i=s==null?void 0:s.channel.id)!=null?i:"0",`The alias ${l} has been set to ${t}`)}},R={...M,onStart(){this.commands=[y,J,U]},onStop(){this.commands=[]}};D(R);
